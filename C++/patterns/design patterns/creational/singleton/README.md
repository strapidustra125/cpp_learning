
# Singleton (Одиночка)

Порождающий паттерн. С помощью него обеспечивается наличие единственного экземпляра класса с глобальной точкой доступа в однопоточном приложении.

![UML диаграмма паттерна](singleton.jpg)

Пример реализации (надстройка над синглтоном Майерса):

```c++
class Singleton
{

public:

    // Ссылка на синглтон для работы с ним: "Singleton& instance = Singleton::Instance();"

    static Singleton & Instance()
    {
        // Согласно стандарту, этот код ленивый и потокобезопасный
        static Singleton s;
        return s;
    }

private:

    // Конструктор и деструктор недоступны пользователю, но реализуют какую-то логику
    Singleton() {}
    ~Singleton() {}

    // Оператор присваивания и конструктор копирования не нужны.
    // Т.к. во многих случаях они создаются компилятором «за вашей спиной».
    // Чтобы никто не мог ими воспользоваться, нужно задекларировать их приватными или (с С++11)
    // убрать при помощи конструкции «= delete».
    Singleton(const Singleton &) = delete;
    Singleton & operator= (const Singleton &) = delete;

    // В операторах сравнения нет нужды, так как всё равно есть лишь один экземпляр.
    // Поскольку автоматически операторы сравнения не создаются, вам не нужно ни о чём беспокоиться.
};
```
